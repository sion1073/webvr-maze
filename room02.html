<!doctype html>
<html>
  <head>
    <title>Web VR MAZE</title>
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  </head>
  <body>

    <a-scene>
      <a-sky color="#77EEFF"></a-sky>

      <a-assets>
        <a-asset-item id="door" src="./model/room2/door.gltf"></a-asset-item>
        <a-asset-item id="room-obj" src="./model/room2/EmptyRoom.obj"></a-asset-item>
        <a-asset-item id="room-mtl" src="./model/room2/EmptyRoom(OBJ).mtl"></a-asset-item>
      </a-assets>

      <a-camera position="0 1 0" fov="60">
        <a-cursor id="cursor" color="black" scale="2 2 2" fuse="true" fuse-timeout="1500" >
          <a-animation
            begin="cursor_over"
            easing="ease-out"
            attribute="scale"
            fill="forwards"
            from="2 2 2"
            to="1 1 1"
            dur="300">
          </a-animation>
          <a-animation
            begin="cursor_over"
            attribute="color"
            fill="forwards"
            from="black"
            to="red"
            dur="0">
          </a-animation>
          <a-animation
            begin="cursor_leave"
            easing="ease-in"
            attribute="scale"
            fill="forwards"
            from="1 1 1"
            to="2 2 2"
            dur="300">
          </a-animation>
          <a-animation
            begin="cursor_leave"
            attribute="color"
            fill="forwards"
            from="red"
            to="black"
            dur="0">
          </a-animation>
        </a-cursor>
      </a-camera>

      <a-entity
        obj-model="obj:#room-obj; mtl:#room-mtl;"
        position="0 0 0"
        scale="2 1 2">
      </a-entity>

      <a-entity
        id="exit"
        gltf-model="#door"
        position="-1.818 0.146 -6.509"
        scale="0.025 0.002 -0.02"
        rotation="90 90 90">
      </a-entity>
      <a-entity
        id="exit_error"
        position="-1.735 2.745 -6.131"
        visible="false"
        geometry="primitive: plane; height: 0.5; width: 3"
        material="color: #FF3333"
        text="color: white; align: center;
              width: 6; font: dejavu;
              value: you don't have key;">
      </a-entity>

      <a-box
        id="box"
        position="6.993 1.902 -0.159"
        scale="0.641 3.509 1.657"
        color="#4CC3D9">
        <a-animation
          begin="start_box"
          attribute="position"
          from="6.993 1.902 -0.159"
          to="6.993 1.902 -1.885"
          dur="1500"
          fill="forwards"
          repeat="0">
        </a-animation>
      </a-box>
      <a-entity
        id="move_question"
        position="6.461 2.565 -0.134"
        rotation="0 270 0"
        visible="false"
        geometry="primitive: plane; height: 0.5; width: 2"
        material="color: #43FF6B"
        text="color: white; align: center;
              width: 6; font: dejavu;
              value: Move??;">
      </a-entity>
      <a-entity
        id="move_yes"
        position="6.461 2.073 -0.631"
        rotation="0 270 0"
        visible="false"
        geometry="primitive: plane; height: 0.5; width: 1"
        material="color: #43FF6B"
        text="color: white; align: center;
              width: 6; font: dejavu;
              value: Yes;">
        <a-animation
          begin="mouseenter"
          attribute="material.color"
          from="#43FF6B"
          to="#FF3333"
          dur="100"
          fill="forwards"
          repeat="0">
        </a-animation>
        <a-animation
          begin="mouseleave"
          attribute="material.color"
          from="#FF3333"
          to="#43FF6B"
          dur="100"
          fill="forwards"
          repeat="0">
        </a-animation>
      </a-entity>
      <a-entity
        id="move_no"
        position="6.461 2.073 0.363"
        rotation="0 270 0"
        visible="false"
        geometry="primitive: plane; height: 0.5; width: 1"
        material="color: #43FF6B"
        text="color: white; align: center;
              width: 6; font: dejavu;
              value: No;">
        <a-animation
          begin="mouseenter"
          attribute="material.color"
          from="#43FF6B"
          to="#FF3333"
          dur="100"
          fill="forwards"
          repeat="0">
        </a-animation>
        <a-animation
          begin="mouseleave"
          attribute="material.color"
          from="#FF3333"
          to="#43FF6B"
          dur="100"
          fill="forwards"
          repeat="0">
        </a-animation>
      </a-entity>
      <a-box
        id="button"
        position="7.268 1.535 -0.122"
        scale="0.235 0.191 0.193"
        color="#4CC3D9">
      </a-box>

      <a-box
        id="key_box"
        position="5.174 22.880 -0.125"
        scale="1.154 1.023 0.983"
        color="#4CC3D9">
        <a-animation
          begin="start_key_box"
          attribute="position"
          from="5.174 22.880 -0.125"
          to="5.174 0.608 -0.125"
          dur="1500"
          fill="forwards"
          repeat="0">
        </a-animation>
      </a-box>
      <a-entity
        id="key_get"
        position="4.083 0.725 -1.612"
        rotation="0 270 0"
        visible="false"
        geometry="primitive: plane; height: 0.5; width: 2"
        material="color: #43FF6B"
        text="color: white; align: center;
              width: 6; font: dejavu;
              value: key get!!;">
      </a-entity>
    </a-scene>

    <script src="./js/room02.js"></script>
  </body>
</html>
